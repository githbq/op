<div class="p-list p-approvallist" js="true" cache="false">

	<div class="u-tablelist m-approvallist ng-cloak" ng-controller="approvallist" >
        <div class="list-main">
            <div class="list-header">
                <h3>
                    <span class="title">审批</span>
                    <section class="toggle"><span ng-click="changestate($event,'wait')" data-state="wait" class="active">我的待审批<b>(<i>0</i>)</b></span><span data-state="going" ng-show="financeshow" ng-click="changestate($event,'going')">我的已审批未完成<b>(<i>0</i>)</b></span><span data-state="done" ng-click="changestate($event,'done')"> 我的已完成<b>(<i>0</i>)</b></span><span data-state="reject" ng-click="changestate($event,'reject')">我的驳回<b>(<i>0</i>)</b></span></section>
                </h3>
            </div>
            <div class="list-bar">
                <div class="list-bar-btns">
                    <button class="btn-blue" ng-click="search()">查询</button>
                </div>
                <div class="list-bar-input">
                    <label for="">
                        订单号
                        <input type="text" ng-model="orderId" onchange="this.value=this.value.replace(/\D/g,'')" maxlength=8>
                    </label>
                    <label for="">
                        合同号
                        <input type="text" ng-model="contractNo">
                    </label>
                    <label for="">
                        企业名称
                        <input type="text" ng-model="en">
                    </label>
                    <label for="">
                        企业账号
                        <input type="text" ng-model="ea">
                    </label>
                    <label>
                        订单类型
                        <select name="ordermap" ng-model="orderType"></select>
                    </label>
                    <label>
                        提单人
                        <input type="text" ng-model="applicantname">
                    </label>
                    <label>
                        提单日期 <input type="text" placeholder="开始时间" class="starttime"> ———— <input type="text" placeholder="结束时间" class="endtime">
                    </label>
                    <label>
                        付费状态
                        <select name="ffzt" ng-model="payStatus">
                            <option value="">全部</option>
                            <option value="1">全款</option>
                            <option value="2">分期</option>
                            <option value="3">未付</option>
                        </select>
                    </label>
                    <label>
                        所属部门/代理商
                        <input type="text" ng-model="agentName">
                    </label>
                    <label>
                        订单状态
                        <select name="orderstatus" ng-model="orderStatus"></select>
                    </label>
                </div>
            </div>
            <didav class="list-content">
               <table class='m-table'>
                    <thead>
                        <tr>
                            <th></th>
                            <th ng-repeat='th in tabledata.thead'>{{th}}</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody ng-show="contentshow">
                        <tr ng-repeat='tr in tabledata.tbody'>
                            <td></td>
                            <td>{{tr['orderId']}}</td>
                            <td>{{tr['contractNo']}}</td>
                            <td>{{tr['enterpriseName']}}</td>
                            <td>{{tr['enterpriseAccount']}}</td>
                            <td>{{tr['orderTypeStr']}}</td>
                            <td>{{tr['applicantName']}}</td>
                            <td>{{tr['agentName']}}</td>
                            <td>{{tr['approvalTypeName']}}</td>
                            <td>{{tr['currentTaskStr']}}</td>
                            <td>{{tr['payStatusStr']}}</td>
                            <td>{{tr['orderstatusStr']}}</td>
                            <td>{{tr['applyTimeStr']}}</td>
                            <td>
                                <a data-id="{{tr['orderId']}}" data-inid="{{tr['processInstanceId']}}" data-status="{{tr['orderStatus']}}" data-dstatus="{{tr['claimReceivedPayStatus']}}" ng-click="detail($event)" class="detail">查看</a>
                            </td>
                        </tr>
                        
                    </tbody>
                    <tbody ng-show="tipshow">
                        <tr>
                            <td colspan="15"><p class="tip">{{tip}}</p></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="list-pager">
        	<page pagesize="{{pagesize}}" pagenumber="pagenumber" total="{{total}}"></page>
        </div>
    </div>

</div>

